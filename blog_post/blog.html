<!DOCTYPE html>
<html>
<head>
  <title>Curve Visualizer - Method 1 Example</title>
  <!-- Import the web component -->
  <script src="curve-visualizer.js"></script>
  <!-- Import your data file -->
  <script src="data.js"></script>

</head>
<body>
  <h1>Curve Visualizer</h1>
  
  <!-- Add the web component to the page -->
  
  <curve-visualizer id="curveVisualizer"></curve-visualizer>

</body>
<script>
    // Wait for the DOM to be fully loaded
    document.addEventListener('DOMContentLoaded', function() {
      // Get a reference to the component
      const visualizer = document.getElementById('curveVisualizer');
      
      // Add an event listener for when the component is ready
      visualizer.addEventListener('ready', function() {
        // Set the data programmatically using the data from data.js
        console.log('Setting data to curve visualizer...');
        
        // Make sure the data exists before trying to set it
        if (typeof PlotData !== 'undefined' && 
            typeof ExpectedValues !== 'undefined' && 
            typeof derivatives !== 'undefined') {
            
          this.setData(PlotData, ExpectedValues, derivatives);
          console.log('Curve visualizer initialized successfully');
        } else {
          console.error('Data not available! Make sure data.js is loaded properly.');
        }
      });
    });
  </script>
</html>