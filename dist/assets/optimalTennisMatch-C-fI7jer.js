import{C as p,r as P,l as C,c as W,e as v,f as B,p as D}from"./chart-RzGmkFEx.js";/* empty css               */p.register(...P);async function I(...c){var d;const o=window.MathJax;o&&((d=o.startup)!=null&&d.promise&&await o.startup.promise,typeof o.typesetPromise=="function"&&await o.typesetPromise(c))}const F=`s0 = (0,0)
N = [[N_VALUE]]
def play_fn(state, next_point: bool):
    if next_point:
        state = (state[0] + 1, state[1])
    else:
        state = (state[0], state[1] + 1)
    if state[0] == N:
        return GameEnd.WIN
    if state[1] == N:
        return GameEnd.LOSE
    return state
`;document.addEventListener("DOMContentLoaded",()=>{const c=document.getElementById("tiebreaker_plot"),o=document.getElementById("tiebreaker_plot_right"),d=document.getElementById("tradeoff_plot");if(!c||!o||!d)return;const i=document.getElementById("tiebreaker_n"),L=document.getElementById("tiebreaker_n_value"),f=document.getElementById("tiebreaker_x_label"),b=document.getElementById("tiebreaker_y_label"),m=document.getElementById("tiebreaker_x_label_right"),u=document.getElementById("tiebreaker_y_label_right"),y=document.getElementById("tradeoff_x_label"),g=document.getElementById("tradeoff_y_label"),M=C(0,1,.01);function s(e){const t=typeof e=="string"?Number.parseFloat(e):Number(e),a=Math.round(t*100)/100;return Math.abs(a-0)<1e-9?"0":Math.abs(a-1)<1e-9?"1":a.toString()}function N(e){return new p(e,{type:"line",data:{datasets:[{label:"data",data:[],borderColor:"black",borderWidth:2},{label:"fairness line",data:[],borderColor:"black",borderDash:[6,6],borderWidth:2}]},options:{responsive:!0,aspectRatio:1,animation:!1,scales:{x:{type:"linear",position:"bottom",min:0,max:1,ticks:{stepSize:.25,autoSkip:!1,callback:s},title:{display:!1,text:""}},y:{type:"linear",position:"bottom",min:0,max:1,ticks:{stepSize:.25,autoSkip:!1,callback:s},title:{display:!1,text:""}}},elements:{point:{radius:0}},plugins:{legend:{display:!1}}}})}function w(e){return new p(e,{type:"line",data:{datasets:[{label:"data",data:[],borderColor:"black",borderWidth:2}]},options:{responsive:!0,aspectRatio:1,animation:!1,scales:{x:{type:"linear",position:"bottom",min:0,max:1,ticks:{stepSize:.25,autoSkip:!1,callback:s},title:{display:!1,text:""}},y:{type:"linear",position:"bottom",min:0,max:19,ticks:{stepSize:1,autoSkip:!1,callback:s},title:{display:!1,text:""}}},elements:{point:{radius:0}},plugins:{legend:{display:!1}}}})}function R(e){const r=Math.min(20,Math.sqrt(400)),_=C(0,r,.1).map(l=>({x:l,y:l*l}));return new p(e,{type:"scatter",data:{datasets:[{type:"line",label:"y = x^2",data:_,borderColor:"rgba(0,0,0,0.45)",backgroundColor:"rgba(0,0,0,0.12)",borderWidth:2,pointRadius:0,tension:0,fill:"origin"},{label:"tradeoff",data:[],borderColor:"black",backgroundColor:"black",pointRadius:3}]},options:{responsive:!0,aspectRatio:1,animation:!1,scales:{x:{type:"linear",position:"bottom",min:0,max:20,ticks:{stepSize:5,autoSkip:!1,callback:s},title:{display:!1,text:""}},y:{type:"linear",position:"bottom",min:0,max:400,ticks:{stepSize:50,autoSkip:!1,callback:s},title:{display:!1,text:""}}},plugins:{legend:{display:!1}}}})}const h=N(c),E=w(o),x=R(d),k=new Map;function z(e){const t=k.get(e);if(!t)return;const a=D(t,M),n=B(t),r=[{x:.5-1/(2*n),y:0},{x:.5+1/(2*n),y:1}],_=M.map(T=>({x:T,y:v(t,T)}));h.data.datasets[0].data=a,h.data.datasets[1].data=r,h.update(),E.data.datasets[0].data=_,E.update(),f&&(f.innerHTML="\\(p\\)"),b&&(b.innerHTML=`\\(\\mathbf{P}(p, T_{${e}})\\)`),m&&(m.innerHTML="\\(p\\)"),u&&(u.innerHTML=`\\(\\mathbf{E}(p, T_{${e}})\\)`);const l=[f,b,m,u].filter(Boolean);l.length&&I(...l)}function S(){const e=(i==null?void 0:i.value)??"2",t=Math.max(2,Math.min(11,Number.parseInt(e,10)||2));L&&(L.textContent=String(t)),z(t)}i&&i.addEventListener("input",S);async function H(){i&&(i.disabled=!0);for(let t=2;t<=11;t++){const a=F.replace("[[N_VALUE]]",String(t)),{result:n,error:r}=await W(a);if(r||!n){console.error(`Failed to compute graph for T_${t}:`,r);continue}console.log(`Precomputed T_${t}`),k.set(t,n)}if(i&&(i.disabled=!1),x){const t=[];for(let a=2;a<=11;a++){const n=k.get(a);n&&t.push({x:B(n),y:v(n,.5)})}t.push({x:10.7343,y:164.5844}),t.push({x:10.7343,y:164.5844}),x.data.datasets[1].data=t,x.update()}y&&(y.innerHTML="\\(\\mathbf{F}(T)\\)"),g&&(g.innerHTML="\\(\\mathbf{E}(0.5, T)\\)");const e=[y,g].filter(Boolean);e.length&&I(...e)}H().then(()=>S())});
